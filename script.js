import http from "k6/http";
import { sleep } from "k6";

export let options = {
  vus: 480,
  duration: "60s",
};

// var userIds = [
//   "2323e4e6-ef3d-422b-afa2-5718046d4fa2",
//   "2380add6-c533-43d0-9ebd-cddffd0b5cf6",
//   "3084aaa0-9af0-4f18-b6a5-40dc35172cb7",
//   "5cbace19-3de0-4387-a2c2-498ee68707e5",
//   "667707ad-7191-4feb-97bc-f5bdb8dfa3bb",
//   "abe13ecd-9cae-49ef-9265-143a48c84895",
//   "5edfa411-a9c7-4038-a019-01011e3b4146",
//   "7f086b02-023a-491f-adc7-d6dd73525fa7",
//   "07a8b4c3-f82d-47b8-9880-9463019c022f",
//   "0e8ec7b4-fd0d-46c5-a6a8-2e172158ed96",
//   "285cc1da-aa19-4acf-8df3-723f60efe3eb",
//   "2e27d4ae-92e0-4193-87dc-6038cff8d217",
//   "358128bc-1f4c-4e49-b513-01ecfc93df7f",
//   "3f9c51ee-e33e-4877-b323-c5968eaf5190",
//   "5025946b-c63a-46da-bb58-f89c956da192",
//   "529838d5-7159-4d9f-b239-0ab6d8a96410",
//   "633cfb83-2c56-4cad-a225-841a0f3de148",
//   "680fc3dd-b33b-4fa0-83c2-e89f56e5f232",
//   "75d71a40-d0bd-4d1a-9ab3-2f4bcbee4a1d",
//   "797690ff-fff4-489a-a157-848cc7958e02",
//   "87b50bd8-f47c-4ff6-93d4-1052070bb13a",
//   "8f156f65-11d8-474f-af1e-8509f4e40ab7",
//   "8fa12658-78fb-47d9-a6f7-0f9bd89567e4",
//   "9f07bb1e-bb01-4d7e-ad7c-9977d520ff0a",
//   "a36dd29d-39d6-4d71-80e6-6cda7ba3d99c",
//   "a945bbc6-b894-4942-8578-dd427798f700",
//   "ae2dd894-4b22-459e-b663-96552a049a43",
//   "b2e986b6-18e5-4bd5-8a11-49ab26b4bb6e",
//   "b96a6e8b-5ed7-4b14-9f06-ae7c69cf7bbd",
//   "ba5460d0-4ff1-41a3-b52f-89d4f4dd9a49",
//   "c008638e-a024-4c6a-adb4-2e3144c47713",
//   "c18b3840-84d0-441a-a267-b756a3079c6e",
//   "c2993013-6ee4-4a8f-ab78-341523d73dd3",
//   "c3827b85-1928-44c8-814e-68ff32cc75da",
//   "c3926657-1904-420b-870a-ff96de32d980",
//   "c3f40bc9-bf58-4036-a8e9-956b6ac33224",
//   "d958c4f6-d099-4be1-b720-658e90173d5c",
//   "d9b7d609-f49c-41a2-8dde-e48ba46d967c",
//   "e23e80b3-30c9-461d-bd26-600f0a0c3d4b",
//   "e253cceb-dafe-4349-b3f9-4d88296b1e19",
//   "eae6e54b-0fb1-4b12-9d07-ee4618ee5136",
//   "ef778ebe-ced5-40d8-a226-de8a69cece01",
//   "f1d58cf2-1601-40bf-8527-217e28f218f9",
// ];

function uuidv4() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {
    var r = (Math.random() * 16) | 0,
      v = c == "x" ? r : (r & 0x3) | 0x8;
    return v.toString(16);
  });
}

var addressesUserIds = [
  "8FA12658-78FB-47D9-A6F7-0F9BD89567E4",
  "F1D58CF2-1601-40BF-8527-217E28F218F9",
  "A36DD29D-39D6-4D71-80E6-6CDA7BA3D99C",
  "633CFB83-2C56-4CAD-A225-841A0F3DE148",
  "BA5460D0-4FF1-41A3-B52F-89D4F4DD9A49",
  "9F07BB1E-BB01-4D7E-AD7C-9977D520FF0A",
  "B96A6E8B-5ED7-4B14-9F06-AE7C69CF7BBD",
  "EF778EBE-CED5-40D8-A226-DE8A69CECE01",
  "680FC3DD-B33B-4FA0-83C2-E89F56E5F232",
  "5025946B-C63A-46DA-BB58-F89C956DA192",
]

var userIds = [
  "2323e4e6-ef3d-422b-afa2-5718046d4fa2",
  "2380add6-c533-43d0-9ebd-cddffd0b5cf6",
  "3084aaa0-9af0-4f18-b6a5-40dc35172cb7",
  "5cbace19-3de0-4387-a2c2-498ee68707e5",
  "667707ad-7191-4feb-97bc-f5bdb8dfa3bb",
  "abe13ecd-9cae-49ef-9265-143a48c84895",
  "5edfa411-a9c7-4038-a019-01011e3b4146",
  "7f086b02-023a-491f-adc7-d6dd73525fa7",
  "00001737-B5E5-42B1-8DA4-225B17B82A60",
  "0000759C-8476-4B7D-9FF1-E07CCB078F32",
  "000088DA-BD26-426F-966B-23F9E5E3A79B",
  "0000B568-6BCC-41A1-86E3-21D8F91AD89B",
  "0000B58A-5CA9-4BF0-BE6C-ADF888EB04DB",
  "0000bc9e-ce4a-42a9-863f-ff1b47f24ca0",
  "00011634-801D-46AD-A442-590235569B55",
  "000132A1-2125-4886-907E-69B3A5886327",
  "00016AE7-531B-4311-A88E-5265B5B8829F",
  "00016fa9-4c9b-4562-90f2-12d770bf1a6f",
  "000182A2-BE53-4826-8580-CCE7AD48AE8F",
  "000184A1-CC1A-455A-B1B0-36EBA3624CBD",
  "00021b6c-1deb-4c4c-b316-59b2eb9884d4",
  "00022650-FC69-439E-BF90-882D9C474D5F",
  "00027CD1-46DA-48E2-8CAA-8270833413CA",
  "0002EAA0-78D0-40C7-A8C8-824A5D07D437",
  "0002F845-E34D-4F31-9975-A7B675237C51",
  "00030442-1D1E-4A08-B7C4-A1597D4DB97B",
  "00030686-76B6-4A36-9EB4-AE5B68A416F8",
  "000386B3-E2CB-4A65-9BF8-8736A9E01CCC",
  "0003f88a-e2df-4940-95ed-2512941affff",
  "00044A9B-9514-46E6-B69F-9319492C9832",
  "00047c0b-b32d-4c17-9a70-02f2292b86c7",
  "00049647-E5B1-4A11-A74C-E32666277619",
  "0004D4E7-E271-4D9A-AE28-90FA751D6F0F",
  "0004E1B9-F0A0-4F52-9F5E-110C3D1AFD90",
  "0004f19a-91a2-4f67-85ce-51030bd4e405",
  "0004FA42-50DD-4B2E-80FE-74D1DFBD6212",
  "0005739D-D7AC-4FC7-889B-C8F334638A4D",
  "00059155-3722-449d-b444-692b35b58c7d",
  "00059CB7-200F-4DC4-B53D-C43590816752",
  "0005c0cb-8b90-4966-8a14-0d44bcbd4491",
  "0005ffd0-6656-49f8-a0bb-c585b4b24b93",
  "00061550-53a8-4799-93da-3cd5d8b89249",
  "00064467-631F-480D-991A-433E798C7EB8",
  "00064CC9-81B0-429C-8636-A2ACBFF1CC99",
  "000657ca-49cd-4639-bff4-0c788642358f",
  "0006d8f2-f7a9-4eb1-b664-aca857e2ea24",
  "0006DA9B-E451-4345-81F2-803485E761CD",
  "0006DDA1-530D-4673-9032-4B2D0042A60B",
  "0006E7DB-C6EA-4C4E-B783-6082AE976F84",
  "000702FB-B5C5-4824-9B79-2C0B96962B9E",
  "000714D5-9178-456B-B655-8354D0D71469",
  "00073D00-32FE-4E10-95AA-B82C980048DE",
  "00074e05-f54c-4353-93ad-f7adf2cc54f2",
  "0007579b-3d5d-4b64-b911-7be21dec349c",
  "0007de6e-4d8c-463c-9efe-e10399f63404",
  "0007F55C-FC64-4870-A8A3-C7B41C757FC2",
  "0007FEEC-CD4B-4164-947C-479DAEB3725B",
  "00083189-7A26-4743-87F3-81C8B19FF132",
  "0008D241-3D3B-4C80-B05A-2CCFC36DFAAC",
  "0008f4f8-a5a7-4fdf-bc8e-35ff05784f82",
  "00091726-559b-41f2-b3a1-dcf2cc8ae4c2",
  "000930c6-5cd9-47af-a4af-f9e961124abe",
  "000932ee-31eb-48af-a482-fd68b469a894",
  "00094d9c-30f5-4e40-9ee1-b08a5c7e9222",
  "000991df-6c24-42ef-8d92-67a808264ca1",
  "0009ab8a-59b6-4dd7-8734-190f5dff28c2",
  "0009C93C-7A5F-489C-8CD5-10968F00880D",
  "0009E8C8-16C1-43A7-865B-6A71FBF32828",
  "0009EF54-3A95-44DA-AB36-5F19B9E11CBB",
  "000A2BB8-6D4F-4B90-9AE1-FC1C8A8AA3C8",
  "000A78B5-5C40-4689-AAA2-D75505A91DA0",
  "000A88F0-DDBC-4A56-BCE4-D1ADC06F159F",
  "000AB316-16B7-4EC8-A22D-6353049B2D6B",
  "000ACE01-9373-442A-8942-2EC060360A27",
  "000ADA43-A0DD-4EF7-B62B-BFFBB6EC6163",
  "000AF101-5EEA-456F-8E4B-A317C68C64E4",
  "000b0b71-6559-4a48-a4b5-7d9b9599f446",
  "000BB127-2E71-493C-973F-65A680A74B85",
  "000BB519-F9A0-42F6-85CD-D54D902FEADF",
  "000BBF09-4B85-420A-9AB3-519658C4D5B3",
  "000c097d-443e-4e1a-9969-39169420aed6",
  "000C3562-29F0-462E-AFEC-4747218EA66E",
  "000C56EC-789D-4CA9-A31D-64087BB808DE",
  "000C6958-5583-43B5-9777-B0F98829F76D",
  "000C9C15-95D7-43BA-9CA9-D6D617EC4AE1",
  "000cba1f-6d04-43bb-bfcd-ecdb0ea1dec0",
  "000CBCF9-AA8C-4309-A5CA-071CB8CC101F",
  "000cd0a1-318b-4f5e-bf80-b88f56ca236e",
  "000ce506-5577-4be6-af90-8b8d2ff41092",
  "000D0AFD-6154-4B49-8C41-68BBE321BF33",
  "000d64a5-3201-4c26-b47a-655844378886",
  "000E021A-5BD4-4BF5-889A-1C27749F2AFD",
  "000EA43D-A6BF-4FCE-B328-8680C7DB55E9",
  "000EC242-6E10-4CFE-9DE1-CEC9ECE1EF85",
  "000EDD13-FDE6-4BB9-ADE9-27B6BDF88C05",
  "000F0BFA-B909-46CB-BA04-C243497C373C",
  "000F4DB9-E794-44D6-8DDF-E9E27025E799",
  "000F4FC9-64A3-40B3-BBFC-D99613C9E391",
  "000F5001-C152-489E-B917-B97B88024124",
  "000f522e-3d13-4d44-b7bb-50f89e46aa46",
  "000F889F-461B-44D4-A5C9-CBF0DAA4C950",
  "000fbb41-1486-49b4-9595-872352d076e2",
  "000FBE6A-0D49-4853-8149-84C0C5869AD1",
  "00101080-766B-464A-90BF-CF1A3ED54BDC",
  "00105B59-3EC8-45B2-A8C6-FFDF1D9BBA87",
  "0010A33C-5922-4640-8695-3E2B02E8A95C",
  "0010a3c9-48b9-4236-84e8-75dbb49bc89f",
  "0010A696-F524-47D4-8782-0F9641B51FB6",
  "0010ad61-041b-48b4-9825-2e5fdffce568",
  "0010DA09-82BF-4E6C-A84F-12502A8F0BBF",
  "0010DA18-B9FA-4469-BD0D-6A42E0FA1F44",
  "00116771-1f10-45fe-a34e-1622334abc31",
  "00116908-766A-4AAB-AC78-C6730D17CF4A",
  "0011B486-EEEC-43B9-8482-97D24BF406E2",
  "0011E2B6-0CB3-48F8-B916-C7FB16F15BBB",
  "001203BA-91E6-4B47-AC99-9451A8BFAF88",
  "0012365F-351E-4DC7-A4FF-5661F428B698",
  "001282D1-1F64-4004-B75D-7AD94E66ACC6",
  "00131315-1FDB-4F7F-8727-798C82D986AD",
  "00133852-A9D5-4F8C-8452-4D6EBFA012F6",
  "00135105-926A-4F8E-9B60-F8D8718ED4EC",
  "00136a09-8676-430d-a0d1-ade93f456ddf",
  "00139BC5-9606-4E57-BF8B-78AE1220DAD7",
  "0013EF9C-58C9-440D-8B05-82EDBB5D588C",
  "00140B4A-4A87-4D70-8E6E-695C4DCD1898",
  "00140D74-4BD5-48AC-9872-9BA9B2588E13",
  "00141950-7e6e-4e30-885a-b5f7c3e7c3b8",
  "001425FB-D630-4EA5-A08C-74D797E76685",
  "00144D12-BBAD-4431-BB85-EF2A8B3FECE9",
  "00148EB2-0B9C-49FC-A656-7B406ADB784C",
  "00149474-1f38-4b02-8028-fdb75f561590",
  "0014A43B-A98D-4FD6-AFDE-514E51C73A22",
  "0014C522-61F0-4C54-BF87-89A17966A6B9",
  "0014C8F5-C81F-4491-A243-5498C156F348",
  "0014CA1C-ECEC-49E6-906B-3253091DA55D",
  "0014F2D1-9D60-4DC8-BC83-FF32EF6C2E83",
  "00154a81-1ee0-4bd6-8035-f3a42bb2d0a0",
  "001556D0-CC6A-432A-975F-46345CEDE361",
  "00159744-3E16-4A4B-8D09-5B4971FBE740",
  "0015CB55-4DCB-45D3-9B6D-B5195B67690B",
  "0015CCA0-128D-4FCC-839E-7D7EE30E3A32",
  "0015CECE-8ECA-4BC9-B100-5CBBACFC5FD9",
  "001630c2-8b12-4e19-8db6-b366db7b3477",
  "00168950-477D-4183-8D17-C185DD135005",
  "0016C759-7588-4606-BAF2-EE3704D1E70C",
  "0016F681-FD0B-4D33-9020-385B9310B447",
  "0017321B-2D57-4D62-A31A-2BC9AC736DF2",
  "0017440E-4D75-4904-9629-25F0F8125E94",
  "00174bd0-7303-4229-8751-cdd7afe77223",
  "00176B9E-E3C0-4415-959B-45AF82F39450",
  "00176CDB-6D15-404F-8F40-F28DFD5AA8B4",
  "00178F07-8994-4C91-B540-8CBB44F2D804",
  "00179287-3cf9-436a-a686-c4ae3ea13990",
  "0017a355-ab46-4f62-9e72-ae05f1ca9ed4",
  "0017AABB-697D-4B7E-B8E4-97B4687BC73D",
  "0017bfb1-9585-4bae-98a8-f0bf7d0011cd",
  "0017F1D9-128C-4391-B8F2-F3984113BDD4",
  "00183072-e5b4-4047-a0b7-6880488f37f6",
  "001843a6-1a74-412f-9ac9-8d739ef9b764",
  "00186C1D-0488-4525-BDAF-8B5351C6A162",
  "0018A3BD-DA02-4EBE-8207-CE270A1B12B3",
  "0018BAF5-B45B-4503-A7EE-3DABD5418554",
  "0018CCF1-99D2-429F-BED3-FD7D72F564A8",
  "0019023A-37E8-4E09-A258-5985A4186F84",
  "00191D0D-0082-435D-842C-BB3B46AE3BDB",
  "00191fab-1140-44a9-918b-32f0171c3624",
  "00192683-0C91-4CF2-BC06-F6F764510709",
  "001931E3-1B32-4614-90B9-DD9AE5302C9A",
  "00194849-3d94-4e60-8684-25427d405874",
  "00198DF5-4395-4BC6-A559-7EFF65D32164",
  "001A87E0-9C22-4228-ADA5-0D88B4EF9498",
  "001ad0e9-1d87-41f6-89db-7252980c9357",
  "001AF087-AE14-4480-93E6-43D4060324D5",
  "001b9dbf-8365-4156-8438-f5a9729ff0ee",
  "001bb73a-ff28-40b3-93cd-7761d6382bad",
  "001C2453-313A-4BB1-94E2-98275D6DC448",
  "001C3F67-2D8F-4822-8AED-789D38164B3B",
  "001CA82C-48AC-4EDE-B9C2-2B13459C7786",
  "001CB9D6-B0FA-444A-BC8B-C0A6651E4E00",
  "001CD052-0DD4-4A2D-96B5-8EDFBAF3262D",
  "001d094d-4092-46d4-9d00-6e0086a22661",
  "001D0AA0-C476-4430-B630-EBDA3C6856A3",
  "001d117b-9e80-47ac-9d73-a02d12b29f1e",
  "001D70D3-6E59-4FA6-A3D8-F1C12423D35D",
  "001DACCB-8AEC-4C6B-ACDD-746D6B76BE5A",
  "001DB5E8-DF3B-4144-9459-B694BA247383",
  "001DD162-F70F-4C7A-A0B5-8DA8D6F60B07",
  "001DEAF5-73CC-4CFB-AEA6-4C75DA17E50D",
  "001DEFB6-E05D-49D0-89E1-C8E257B1C9BF",
  "001DFC5B-8CC4-4375-B49E-44E51E0181E2",
  "001e075b-e4cc-4085-bb92-9f6744984a75",
  "001E2919-E4A2-4611-97B3-5A44C13FC646",
  "001E470F-092F-4153-9EA3-5DA89DDE7916",
  "001E6711-765E-48B6-882D-E0CFAD539D67",
  "001EA679-88DE-4DC8-84B7-740AEF2F221E",
  "001EA730-D37F-4F85-A10E-2A7D70726B76",
  "001F380A-3C86-421A-9F35-57749821A450",
  "001F7522-5800-4C8C-82AD-8AA43B139106",
  "001f8e97-036a-42a1-8ead-d575d6d8ad35",
  "001F9C4F-C421-401C-A5D2-A5CAE1A854B4",
  "001FAFB1-E836-448D-8A8A-82493507BEF6",
  "001fd4b4-f8b6-4624-be46-9bc6ffad84b6",
  "001FE2F4-7CB5-40B9-8651-7D0ECD069132",
  "001fe527-a8eb-48ad-b0a3-527d455698c9",
  "001FF997-39BA-495A-9200-0A33500F14F7",
  "00202AE9-0406-429C-83D1-39F6E4BCD65A",
  "00203F14-EABE-4502-9CCA-F2A349335CF6",
  "0020559B-1B39-42E8-A114-D45DF1B7FCDB",
  "07a8b4c3-f82d-47b8-9880-9463019c022f",
  "0e8ec7b4-fd0d-46c5-a6a8-2e172158ed96",
  "285cc1da-aa19-4acf-8df3-723f60efe3eb",
  "2e27d4ae-92e0-4193-87dc-6038cff8d217",
  "358128bc-1f4c-4e49-b513-01ecfc93df7f",
  "3f9c51ee-e33e-4877-b323-c5968eaf5190",
  "5025946b-c63a-46da-bb58-f89c956da192",
  "529838d5-7159-4d9f-b239-0ab6d8a96410",
  "633cfb83-2c56-4cad-a225-841a0f3de148",
  "680fc3dd-b33b-4fa0-83c2-e89f56e5f232",
  "75d71a40-d0bd-4d1a-9ab3-2f4bcbee4a1d",
  "797690ff-fff4-489a-a157-848cc7958e02",
  "87b50bd8-f47c-4ff6-93d4-1052070bb13a",
  "8f156f65-11d8-474f-af1e-8509f4e40ab7",
  "8fa12658-78fb-47d9-a6f7-0f9bd89567e4",
  "9f07bb1e-bb01-4d7e-ad7c-9977d520ff0a",
  "a36dd29d-39d6-4d71-80e6-6cda7ba3d99c",
  "a945bbc6-b894-4942-8578-dd427798f700",
  "ae2dd894-4b22-459e-b663-96552a049a43",
  "b2e986b6-18e5-4bd5-8a11-49ab26b4bb6e",
  "b96a6e8b-5ed7-4b14-9f06-ae7c69cf7bbd",
  "ba5460d0-4ff1-41a3-b52f-89d4f4dd9a49",
  "c008638e-a024-4c6a-adb4-2e3144c47713",
  "c18b3840-84d0-441a-a267-b756a3079c6e",
  "c2993013-6ee4-4a8f-ab78-341523d73dd3",
  "c3827b85-1928-44c8-814e-68ff32cc75da",
  "c3926657-1904-420b-870a-ff96de32d980",
  "c3f40bc9-bf58-4036-a8e9-956b6ac33224",
  "d958c4f6-d099-4be1-b720-658e90173d5c",
  "d9b7d609-f49c-41a2-8dde-e48ba46d967c",
  "e23e80b3-30c9-461d-bd26-600f0a0c3d4b",
  "e253cceb-dafe-4349-b3f9-4d88296b1e19",
  "eae6e54b-0fb1-4b12-9d07-ee4618ee5136",
  "ef778ebe-ced5-40d8-a226-de8a69cece01",
  //   "f1d58cf2-1601-40bf-8527-217e28f218f9",
];

export default function () {
  var userId = userIds[Math.floor(Math.random() * userIds.length)];

  var currentdate = new Date();
  var dateTime =
    currentdate.getDate() +
    "-" +
    (currentdate.getMonth() + 1) +
    "-" +
    currentdate.getFullYear() +
    "T" +
    currentdate.getHours() +
    ":" +
    currentdate.getMinutes() +
    ":" +
    currentdate.getSeconds();

  dateTime = currentdate.toISOString();

  var requestId = uuidv4();

  var params = {
    headers: {
      "Content-Type": "application/json",
      userId: userId,
      "x-requestid": requestId,
    },
  };

  var basket = JSON.stringify({
    branchId: 2,
    brandId: 4,
    userId: userId,
    buyerId: userId,
    referrerId: null,
    items: [
      {
        id: null,
        productItems: [
          {
            productId: 120,
            quantity: 1,
            productName: "سالاد سزار",
            unitPrice: 800000,
          },
        ],
        baseProductId: 120,
        productName: "سالاد سزار",
        unitPrice: 800000,
        discount: 0,
        quantity: 1,
        vat: 0,
        comment: "",
      },
    ],
    lockedUntil: dateTime,
    lastUpdate: dateTime,
    isCheckedOut: false,
    requestId: requestId,
    paymentType: 1,
    sourceType: 1,
    deliveryType: 2,
    relatedOrderId: null,
    partnerId: null,
    couponId: null,
    discount: 0,
    deliveryDiscount: 0,
    usedCredit: 0,
    roundValue: 0,
    deliveryCost: 0,
    packagingCost: 0,
    totalCost: 800000,
    payableCost: 800000,
    otherOrdersPrice: 0,
    gross: 800000,
    vat: 0,
    itemCount: 1,
    fileName: null,
    isProcessing: false,
    basketMessage: null,
    basketState: 1,
    rejectReason: null,
  });

  var checkout = JSON.stringify({
    addressId: 16,
    buyer: userId,
    buyerName: "Aref Azizian",
    description: "Khoob bid",
    subscription: "09371863191",
    currentPhoneNo: "09371863191",
    callId: null,
    extension: null,
    fullAddress: "خيابان رشيد 144 غربي پ80 و11",
    deliveryTime: null,
    coordinate: "12.345,24.1234",
  });

  // console.log(basket);
  // console.log(checkout);

  var addressUserId = addressesUserIds[Math.floor(Math.random() * addressesUserIds.length)];
  var addressUrl = "http://192.168.1.19:8092/api/v1/Addresses/Addresses?customerId=" + addressUserId;
  console.log(addressUrl);
  http.get(addressUrl);
  sleep(1);

  http.post("http://192.168.1.19:94/api/v1/basket", basket, params);
  sleep(1);

  http.post("http://192.168.1.19:94/api/v1/basket/checkout", checkout, params);
  sleep(1);
}
